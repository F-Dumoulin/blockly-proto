<!DOCTYPE html>
<html>
	<head>
		<title>Prototype Blockly DOM-PP</title>
		<link href="style.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<script src="blockly/blockly_compressed.js"></script>
		<script src="blockly/blocks_compressed.js"></script>
		<script src="blockly/javascript_compressed.js"></script>
		<script src="blockly/msg/en.js"></script>

		<script src="blocks/quantifier.js"></script>
		<script src="blocks/selector.js"></script>
		<script src="blocks/condition.js"></script>
		<script src="blocks/property.js"></script>
		<script src="blocks/operator.js"></script>
		<script src="blocks/action.js"></script>
		<script src="blocks/other.js"></script>

		<h1>Prototype Blockly DOM-PP</h1>
		<div>
			<button id="getCode" onclick="runCode()">Get code</button>
		</div>
		<div id="blocklyDiv"></div>

		<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
		  <category name="Quantifier">
		    <block type="q_forall"></block>
		    <block type="q_exists"></block>
		    <block type="q_forallpairs"></block>
		  </category>
		  <category name="Selector">
		    <block type="s_findbyselector">
		      <field name="fbs_selector">#main</field>
		    </block>
		    <block type="s_findbyclass">
		      <field name="fbc_class">navlink</field>
		    </block>
		    <block type="s_findbyid">
		      <field name="fbi_id">main</field>
		    </block>
		  </category>
		  <category name="Condition">
		    <block type="c_comparetovalue">
		      <field name="cpt_value">0</field>
		    </block>
		    <block type="c_comparetwoelems"></block>
		    <block type="c_sameoffsettop"></block>
		  </category>
		  <category name="Property">
		    <block type="prop_width"></block>
		    <block type="prop_height"></block>
		    <block type="prop_offsettop"></block>
		    <block type="prop_color"></block>
		  </category>
		  <category name="Operator">
		    <block type="op_equal"></block>
		    <block type="op_greatherthan"></block>
		    <block type="op_greatherorequal"></block>
		    <block type="op_lesserthan"></block>
		    <block type="op_lesserorequal"></block>
		  </category>
		  <category name="Action">
		    <block type="a_delay">
		      <field name="delay_duration">0</field>
		    </block>
		    <block type="a_scroll">
		      <field name="x_scroll">0</field>
		      <field name="y_scroll">0</field>
		    </block>
		    <block type="a_click">
		      <field name="click_selector">#button</field>
		    </block>
		  </category>
		  <category name="Other">
		    <block type="testcase">
		      <field name="tc_description">Testing ...</field>
		    </block>
		    <block type="evaluation"></block>
		  </category>
		</xml>

		<script>
		  var workspace = Blockly.inject('blocklyDiv',
		      {toolbox: document.getElementById('toolbox')});

		  function runCode() {
		  	var code = Blockly.JavaScript.workspaceToCode(workspace);
		  	console.log(code);
		  }
		</script>
	</body>
</html>